import{a as m}from"./_astro_actions.B1Hs8mhV.js";import{e as p}from"./recaptcha.D_J8fXFO.js";const t=document.getElementById("contact-us-form"),d=t.querySelectorAll("input, textarea"),n=t.querySelector("#select-project_type"),i=document.getElementById("project_type_other-wrapper"),l=document.getElementById("contact-us-form-button"),o=document.getElementById("contact-us-form-error");t.addEventListener("change",e=>{const r=e.target;if(r?.name!=="project_type")return;const s=t.querySelector("#project_type_other");r.value.includes("Other")?(s.disabled=!1,i.classList.add("visible")):(s.disabled=!0,i.classList.remove("visible"))});l.addEventListener("click",async()=>{d.forEach(a=>{a.checkValidity()?a.classList.remove("invalid"):a.classList.add("invalid")});const e=new FormData(t);if(e.get("project_type")?n.classList.remove("invalid"):n.classList.add("invalid"),!e.get("gdpr"))return;const r=await p();e.append("recaptchaToken",r);const{data:s,error:c}=await m.forms.contact(e);console.log("data",s),console.log("error",c),s?.success&&(t.classList.add("done"),l.querySelector("span").textContent="Done",o.classList.remove("visible")),c&&(o.textContent="There has been an error seding the form, please try again..",o.classList.add("visible"))});d.forEach(e=>{e.addEventListener("input",()=>{e.checkValidity()&&e.classList.remove("invalid")})});
